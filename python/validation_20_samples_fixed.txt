Loading Hugging Face dataset...
✓ Loaded dataset with 2043 samples

Inspecting first sample structure...
Sample type: <class 'dict'>
Sample keys: ['image', 'id', 'parsed_data', 'raw_data']
  image: <class 'PIL.JpegImagePlugin.JpegImageFile'> - PIL.Image
  id: <class 'str'> - 0
  parsed_data: <class 'str'> - {"xml": "", "json": "{'header': {'invoice_no': '40378170', 'invoice_date': '10/15/2012', 'seller': '
  raw_data: <class 'str'> - {"ocr_words": "['Invoice no: 40378170', 'Date of issue:', '10/15/2012', 'Seller:', 'Client:', 'Patel

Processing 20 samples...

[1/20] Processing sample 0...
    → Image file detected, using OCR... ✓ (92 blocks)
    → Calling LLM for 3 fields: invoice_date, total_amount, vendor_name
  ✓ LLM (groq): 0.7s
  Accuracy: 80.00%
  Time: 9.03s
  LLM Used: True
  Matches: 4/5

[2/20] Processing sample 1...
    → Image file detected, using OCR... ✓ (137 blocks)
    → Calling LLM for 3 fields: invoice_date, total_amount, vendor_name
  ✓ LLM (groq): 0.4s
  Accuracy: 80.00%
  Time: 11.23s
  LLM Used: True
  Matches: 4/5

[3/20] Processing sample 2...
    → Image file detected, using OCR... ✓ (169 blocks)
    → Calling LLM for 3 fields: invoice_date, total_amount, vendor_name
  ✓ LLM (groq): 0.5s
    ⚠️  LLM extraction failed: name 're' is not defined
  Accuracy: 60.00%
  Time: 10.43s
  LLM Used: True
  Matches: 3/5

[4/20] Processing sample 3...
    → Image file detected, using OCR... ✓ (181 blocks)
    → Calling LLM for 3 fields: invoice_date, total_amount, vendor_name
  ✓ LLM (groq): 0.5s
    ⚠️  LLM extraction failed: name 're' is not defined
  Accuracy: 80.00%
  Time: 11.26s
  LLM Used: True
  Matches: 4/5

[5/20] Processing sample 4...
    → Image file detected, using OCR... ✓ (194 blocks)
    → Calling LLM for 3 fields: invoice_date, total_amount, vendor_name
  ✓ LLM (groq): 0.5s
    ⚠️  LLM extraction failed: name 're' is not defined
  Accuracy: 80.00%
  Time: 13.40s
  LLM Used: True
  Matches: 4/5

[6/20] Processing sample 5...
    → Image file detected, using OCR... ✓ (87 blocks)
    → Calling LLM for 3 fields: invoice_date, total_amount, vendor_name
  ✓ LLM (groq): 0.4s
    ⚠️  LLM extraction failed: name 're' is not defined
  Accuracy: 80.00%
  Time: 9.56s
  LLM Used: True
  Matches: 4/5

[7/20] Processing sample 6...
    → Image file detected, using OCR... ✓ (197 blocks)
    → Calling LLM for 3 fields: invoice_date, total_amount, vendor_name
  ✓ LLM (groq): 0.6s
  Accuracy: 40.00%
  Time: 11.33s
  LLM Used: True
  Matches: 2/5

[8/20] Processing sample 7...
    → Image file detected, using OCR... ✓ (130 blocks)
    → Calling LLM for 3 fields: invoice_date, total_amount, vendor_name
  ✓ LLM (groq): 0.5s
  Accuracy: 80.00%
  Time: 11.51s
  LLM Used: True
  Matches: 4/5

[9/20] Processing sample 8...
    → Image file detected, using OCR... ✓ (193 blocks)
    → Calling LLM for 3 fields: invoice_date, total_amount, vendor_name
  ✓ LLM (groq): 0.4s
  Accuracy: 80.00%
  Time: 12.52s
  LLM Used: True
  Matches: 4/5

[10/20] Processing sample 9...
    → Image file detected, using OCR... ✓ (213 blocks)
    → Calling LLM for 3 fields: invoice_date, total_amount, vendor_name
  ✓ LLM (groq): 0.5s
  Accuracy: 80.00%
  Time: 11.91s
  LLM Used: True
  Matches: 4/5

[11/20] Processing sample 10...
    → Image file detected, using OCR... ✓ (115 blocks)
    → Calling LLM for 2 fields: invoice_date, vendor_name
  ✓ LLM (groq): 0.5s
  Accuracy: 60.00%
  Time: 11.01s
  LLM Used: True
  Matches: 3/5

[12/20] Processing sample 11...
    → Image file detected, using OCR... ✓ (155 blocks)
    → Calling LLM for 3 fields: invoice_date, total_amount, vendor_name
  ✓ LLM (groq): 0.4s
    ⚠️  LLM extraction failed: name 're' is not defined
  Accuracy: 80.00%
  Time: 8.19s
  LLM Used: True
  Matches: 4/5

[13/20] Processing sample 12...
    → Image file detected, using OCR... ✓ (218 blocks)
    → Calling LLM for 2 fields: invoice_date, vendor_name
  ✓ LLM (groq): 0.4s
  Accuracy: 80.00%
  Time: 10.11s
  LLM Used: True
  Matches: 4/5

[14/20] Processing sample 13...
    → Image file detected, using OCR... ✓ (132 blocks)
    → Calling LLM for 3 fields: invoice_date, total_amount, vendor_name
  ✓ LLM (groq): 0.5s
  Accuracy: 80.00%
  Time: 10.73s
  LLM Used: True
  Matches: 4/5

[15/20] Processing sample 14...
    → Image file detected, using OCR... ✓ (83 blocks)
    → Calling LLM for 3 fields: invoice_date, total_amount, vendor_name
  ✓ LLM (groq): 0.5s
  Accuracy: 80.00%
  Time: 11.85s
  LLM Used: True
  Matches: 4/5

[16/20] Processing sample 15...
    → Image file detected, using OCR... ✓ (88 blocks)
    → Calling LLM for 3 fields: invoice_date, total_amount, vendor_name
  ✓ LLM (groq): 0.7s
  Accuracy: 80.00%
  Time: 9.76s
  LLM Used: True
  Matches: 4/5

[17/20] Processing sample 16...
    → Image file detected, using OCR... ✓ (72 blocks)
    → Calling LLM for 3 fields: invoice_date, total_amount, vendor_name
  ✓ LLM (groq): 0.6s
  Accuracy: 80.00%
  Time: 17.35s
  LLM Used: True
  Matches: 4/5

[18/20] Processing sample 17...
    → Image file detected, using OCR... ✓ (180 blocks)
    → Calling LLM for 3 fields: invoice_date, total_amount, vendor_name
  ✓ LLM (groq): 0.5s
  Accuracy: 80.00%
  Time: 21.94s
  LLM Used: True
  Matches: 4/5

[19/20] Processing sample 18...
    → Image file detected, using OCR... ✓ (118 blocks)
    → Calling LLM for 3 fields: invoice_date, total_amount, vendor_name
  ✓ LLM (groq): 0.5s
  Accuracy: 80.00%
  Time: 15.32s
  LLM Used: True
  Matches: 4/5

[20/20] Processing sample 19...
    → Image file detected, using OCR... ✓ (182 blocks)
    → Calling LLM for 3 fields: invoice_date, total_amount, vendor_name
  ✓ LLM (groq): 0.8s
    ⚠️  LLM extraction failed: name 're' is not defined
  Accuracy: 80.00%
  Time: 15.23s
  LLM Used: True
  Matches: 4/5

============================================================
VALIDATION SUMMARY
============================================================
Total Samples Processed: 20
Successful Extractions: 20
Failed Extractions: 0
Average Accuracy: 76.00%
LLM Usage Rate: 100.00%
Samples with LLM: 20/20

Field-level Accuracy:
  invoice_id          : 90.00% (18/20)
  invoice_date        : 90.00% (18/20)
  total_amount        : 5.00% (1/20)
  currency            : 100.00% (20/20)
  vendor_name         : 95.00% (19/20)

Results saved to validation_results.json
